```{r echo=FALSE}
knitr::opts_chunk$set(
  comment = "#>",
  collapse = TRUE,
  warning = FALSE,
  message = FALSE
)
```

# ropenaire

[![Build Status](https://travis-ci.org/njahn82/ropenaire.svg?branch=master)](https://travis-ci.org/njahn82/ropenaire)
[![Build status](https://ci.appveyor.com/api/projects/status/github/njahn82/ropenaire?branch=master)](https://ci.appveyor.com/project/njahn82/ropenaire)
[![codecov.io](http://codecov.io/github/njahn82/ropenaire/coverage.svg?branch=master)](http://codecov.io/github/njahn82/ropenaire?branch=master)

## About

`ropenaire` gives access to the [OpenAIRE RESTful API](http://api.openaire.eu/) with R. [OpenAIRE](https://www.openaire.eu/) is an open science initiative, which supports the Open Access policy of the European Commission. So far, OpenAIRE facilitates access to over 11 million publications from various sources such as 5,800 open access repositories.

The API is intended for metadata discovery and exploration only. The number of total return results returned by one query is limited to 10,000.

For bulk access, please use the [OpenAIRE OAI-PMH endpoint](http://api.openaire.eu/#cha_oai_pmh), which can be queried by [Scott's OAI-PMH client](https://github.com/sckott/oai) or [OAIHarvester](https://cran.r-project.org/web/packages/OAIHarvester/index.html).

## Installation from GitHub

```{r, eval=FALSE}
devtools::install_github("njahn82/ropenaire")
```

Load `ropenaire`

```{r}
library(ropenaire)
```

## Usage 

### Projects

Search EC-funded projects by participant institutions, e.g. GÃ¶ttingen University by acronym `GOE`

```{r}
roa_projects(org = "UGOE")
```
 
### Publications

Publications from the 2nd-Generation Open Access Infrastructure for Research in Europe project, which has the grant id 283595.

```{r}
my_pubs <- roa_pubs(fp7 = "283595")
```

Show how many of them are Open Access 

```{r}
table(my_pubs$Access)
```

### Datasets

Search for FP7 grant-supported datasets

```{r}
roa_datasets(fp7 = "247153")
```

Search by title keywords

```{r}
roa_datasets(title = "methane") 

```

### Get all the FP7-supported publications from projects an institution participates in

```{r}
ugoe <- roa_projects(org = "UGOE")
tt <- plyr::ldply(as.character(ugoe$grantID), roa_pubs)

head(tt)

table(tt$Access)
```

## Meta

* Please [report any issues or bugs](https://github.com/njahn82/ropenaire/issues).
* License: MIT


